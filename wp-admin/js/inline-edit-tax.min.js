var inlineEditTax;
(function(b){inlineEditTax={init:function(){var a=this,c=b("#inline-edit");a.type=b("#the-list").attr("data-wp-lists").substr(5);a.what="#"+a.type+"-";b("#the-list").on("click","a.editinline",function(){inlineEditTax.edit(this);return!1});c.keyup(function(a){if(27===a.which)return inlineEditTax.revert()});b("a.cancel",c).click(function(){return inlineEditTax.revert()});b("a.save",c).click(function(){return inlineEditTax.save(this)});b("input, select",c).keydown(function(a){if(13===a.which)return inlineEditTax.save(this)});
b('#posts-filter input[type="submit"]').mousedown(function(){a.revert()})},toggle:function(a){"none"===b(this.what+this.getId(a)).css("display")?this.revert():this.edit(a)},edit:function(a){var c,e,d;this.revert();"object"===typeof a&&(a=this.getId(a));c=b("#inline-edit").clone(!0);e=b("#inline_"+a);b("td",c).attr("colspan",b("th:visible, td:visible",".widefat:first thead").length);b(this.what+a).hide().after(c).after('<tr class="hidden"></tr>');d=b(".name",e);d.find("img").replaceWith(function(){return this.alt});
d=d.text();b(':input[name="name"]',c).val(d);d=b(".slug",e);d.find("img").replaceWith(function(){return this.alt});d=d.text();b(':input[name="slug"]',c).val(d);b(c).attr("id","edit-"+a).addClass("inline-editor").show();b(".ptitle",c).eq(0).focus();return!1},save:function(a){var c;c=b('input[name="taxonomy"]').val()||"";"object"===typeof a&&(a=this.getId(a));b("table.widefat .spinner").addClass("is-active");c={action:"inline-save-tax",tax_type:this.type,tax_ID:a,taxonomy:c};c=b("#edit-"+a).find(":input").serialize()+
"&"+b.param(c);b.post(ajaxurl,c,function(c){var d;b("table.widefat .spinner").removeClass("is-active");c?-1!==c.indexOf("<tr")?(b(inlineEditTax.what+a).siblings("tr.hidden").addBack().remove(),d=b(c).attr("id"),b("#edit-"+a).before(c).remove(),d?(c=d.replace(inlineEditTax.type+"-",""),d=b("#"+d)):(c=a,d=b(inlineEditTax.what+a)),b("#parent").find("option[value="+c+"]").text(d.find(".row-title").text()),d.hide().fadeIn()):b("#edit-"+a+" .inline-edit-save .error").html(c).show():b("#edit-"+a+" .inline-edit-save .error").html(inlineEditL10n.error).show()});
return!1},revert:function(){var a=b("table.widefat tr.inline-editor").attr("id");a&&(b("table.widefat .spinner").removeClass("is-active"),b("#"+a).siblings("tr.hidden").addBack().remove(),a=a.substr(a.lastIndexOf("-")+1),b(this.what+a).show());return!1},getId:function(a){a=("TR"===a.tagName?a.id:b(a).parents("tr").attr("id")).split("-");return a[a.length-1]}};b(document).ready(function(){inlineEditTax.init()})})(jQuery);
