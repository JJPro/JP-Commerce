(function(h,b,e,d){function k(a,c){if("undefined"!==typeof c){var d=b.createElement("input");d.name=a;d.value=c;d.type="hidden";l.appendChild(d)}}var f=h.encodeURIComponent,l=b.createElement("form"),a=b.getElementsByTagName("head")[0],c=!0,m,g;if(d)if(e.match(/^https?:/))if(d+="&u="+f(e),e.match(/^https:/)&&d.match(/^http:/)&&(c=!1),h.getSelection?m=h.getSelection()+"":b.getSelection?m=b.getSelection()+"":b.selection&&(m=b.selection.createRange().text||""),d+="&buster="+(new Date).getTime(),c||(b.title&&
(d+="&t="+f(b.title.substr(0,256))),m&&(d+="&s="+f(m.substr(0,512)))),e=h.outerWidth||b.documentElement.clientWidth||600,f=h.outerHeight||b.documentElement.clientHeight||700,e=800>e||5E3<e?600:.7*e,f=800>f||3E3<f?700:.9*f,c){for(var c=a.getElementsByTagName("meta")||[],n=0;n<c.length&&!(200<n);n++){var q=c[n],p=q.getAttribute("name"),r=q.getAttribute("property");(q=q.getAttribute("content"))&&(p?k("_meta["+p+"]",q):r&&k("_meta["+r+"]",q))}a=a.getElementsByTagName("link")||[];for(c=0;c<a.length&&!(50<=
c);c++)n=a[c],p=n.getAttribute("rel"),"canonical"!==p&&"icon"!==p&&"shortlink"!==p||k("_links["+p+"]",n.getAttribute("href"));b.body.getElementsByClassName&&(g=b.body.getElementsByClassName("hfeed")[0]);g=b.getElementById("content")||g||b.body;g=g.getElementsByTagName("img")||[];for(c=0;c<g.length&&!(100<=c);c++)a=g[c],-1<a.src.indexOf("avatar")||-1<a.className.indexOf("avatar")||a.width&&256>a.width||a.height&&128>a.height||k("_images[]",a.src);g=b.body.getElementsByTagName("iframe")||[];for(a=0;a<
g.length&&!(50<=a);a++)k("_embeds[]",g[a].src);b.title&&k("t",b.title);m&&k("s",m);l.setAttribute("method","POST");l.setAttribute("action",d);l.setAttribute("target","_press_this_app");l.setAttribute("style","display: none;");h.open("about:blank","_press_this_app","location,resizable,scrollbars,width="+e+",height="+f);b.body.appendChild(l);l.submit()}else h.open(d,"_press_this_app","location,resizable,scrollbars,width="+e+",height="+f);else top.location.href=d})(window,document,top.location.href,
window.pt_url);
