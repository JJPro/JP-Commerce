(function(g,b){if(g&&g.customize){var a=g.customize,h;a.WidgetCustomizerPreview={renderedSidebars:{},renderedWidgets:{},registeredSidebars:[],registeredWidgets:{},widgetSelectors:[],preview:null,l10n:{},init:function(){this.buildWidgetSelectors();this.highlightControls();this.preview.bind("highlight-widget",this.highlightWidget)},buildWidgetSelectors:function(){var f=this;b.each(this.registeredSidebars,function(d,c){var a=[c.before_widget.replace("%1$s","").replace("%2$s",""),c.before_title,c.after_title,
c.after_widget].join(""),e;e=b(a);a=e.prop("tagName");if(e=e.prop("className"))(e=e.replace(/^\s+|\s+$/g,""))&&(a+="."+e.split(/\s+/).join(".")),f.widgetSelectors.push(a)})},highlightWidget:function(a){var d=b(document.body),c=b("#"+a);d.find(".widget-customizer-highlighted-widget").removeClass("widget-customizer-highlighted-widget");c.addClass("widget-customizer-highlighted-widget");setTimeout(function(){c.removeClass("widget-customizer-highlighted-widget")},500)},highlightControls:function(){var a=
this,d=this.widgetSelectors.join(",");b(d).attr("title",this.l10n.widgetTooltip);b(document).on("mouseenter",d,function(){a.preview.send("highlight-widget-control",b(this).prop("id"))});b(document).on("click",d,function(c){c.shiftKey&&(c.preventDefault(),a.preview.send("focus-widget-control",b(this).prop("id")))})}};h=a.Preview;a.Preview=h.extend({initialize:function(b,d){a.WidgetCustomizerPreview.preview=this;h.prototype.initialize.call(this,b,d)}});b(function(){var f=window._wpWidgetCustomizerPreviewSettings;
f&&(b.extend(a.WidgetCustomizerPreview,f),a.WidgetCustomizerPreview.init())})}})(window.wp,jQuery);
